<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
  <TITLE>Covered - Race Condition Checking</TITLE>
  <META name="GENERATOR" content="ManStyle">
  <meta name="author" content="Trevor Williams">
  <LINK rel=stylesheet type="text/css" href="styles.css">
</HEAD>
<BODY text="#000000"
      link="#12568c" vlink="#023a64" alink="#000000" 
      bgcolor="#ffffff" background="img/tile.jpeg">

<TABLE width=615 border=0 cellpadding=0 cellspacing=0>
  <TR>
    <TD width=30>
      <IMG src="img/space.gif" width=30 height=1 border=0>
    </TD>
    <TD width=105>
      <IMG src="img/space.gif" width=105 height=1 border=0>
    </TD>
    <TD width=20>
      <IMG src="img/space.gif" width=20 height=1 border=0>
    </TD>
    <TD width=460>
      <IMG src="img/space.gif" width=460 height=1 border=0><BR>
      <P class="pageNumber">&nbsp;11&nbsp;</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top></TD>
    <TD></TD>
    <TD align=center>
      <TABLE width=460 border=0 cellpadding=0 cellspacing=0>
        <TR>
          <TD width=460 align=center valign=top class="navigator">
            <P class="navigator"><IMG src="img/000000.gif" height=2 width=460><BR>
            <IMG src="img/toolbar_left.png" border=0>
            <A href="001.html" alt="Contents"><IMG src="img/toolbar_cont.png" border=0></A>
            <A href="index.html" alt="First Page"><IMG src="img/toolbar_first.png" border=0></A>
            <A href="010.html" alt="Previous Page"><IMG src="img/toolbar_prev.png" border=0></A>
            <A href="index.html" alt="Home"><IMG src="img/toolbar_home.png" border=0></A>
            <A href="012.html" alt="Next Page"><IMG src="img/toolbar_next.png" border=0></A>
            <A href="027.html" alt="Last Page"><IMG src="img/toolbar_last.png" border=0></A>
            <IMG src="img/toolbar_right.png" border=0>
            <BR><IMG src="img/000000.gif" height=2 width=460></P>
          </TD>
        </TR>
        <TR>
          <TD align=center valign=top>
            <P class="pageHeader">User Manual - <B>&laquo;Covered&raquo;</B><BR><IMG src="img/000000.gif" height=1 width=460></P>
          </TD>
        </TR>
        <TR>
          <TD align=center valign=top>
            &nbsp;
          </TD>
        </TR>
      </TABLE>
    </TD>
  </TR>


  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="header1">4&nbsp;&nbsp; <A name="4"></A>Race Condition Checking<BR><IMG src="img/12568c.gif" height=2 width=460></P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      Due to Covered's method of abstracting coverage from a dumpfile, a partial 
      "resimulation" of the design is needed to obtain proper statistics for line, 
      combinational logic and FSM metrics. Therefore, accurately resimulating what 
      occurred in the actual simulation is a requirement for obtaining correct 
      results. This can be easily achieved so long as the design doesn't contain 
      any code that could result in potential race conditions.</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="header2">4.1&nbsp; <A name="4_1"></A>Checked Coding Guidelines</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      To avoid this problem Covered now performs automatic race condition checking 
      on the specified design after parsing has been completed but before 
      simulation/scoring is performed. All statement blocks in the design that 
      don't adhere to certain coding guidelines are removed from coverage consideration 
      by Covered. By following these coding guidelines, a design should be void of 
      race condition scenarios that would lead to faulty simulation results. The 
      following coding guidelines are applied by Covered when checking for race 
      conditions:</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin">Race-condition-free Coding Guidelines</P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      <ol> 
      	<li> All sequential logic and latches use non-blocking assignments.</li>
      	<li> All combinational logic in an always block uses blocking assignments.</li>
      	<li> All mixed sequential and combinational logic in the same always block uses non-blocking assignments.</li>
      	<li> Blocking and non-blocking assignments should not be used in the same always block.<li>
      	<li> Assignments made to a variable should only be done within one always block.</li>
      	<li> The $strobe system call should only be used to display variables that were assigned using non-blocking assignments. (Not currently implemented)</li>
      	<li> No #0 procedural assignments should exist. (Not currently implemented)</li>
      </ol> </P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="header2">4.2&nbsp; <A name="4_2"></A>Race Condition Handling</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      If Covered detects a block as violating any one of the above mentioned coding 
      guidelines, it will do one of two things depending on options specified to the 
      score command by the user.</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      <ol>
      	<li> 
      	If the -rS, -rW or none of the -r options are specified, Covered will simply 
      	remove the non-conforming always block from coverage consideration and continue 
      	with scoring. -rW will display a message describing detected race conditions 
      	during the scoring command while the -rS option will display no messages.</li>
      	<li> 
      	If the -rE option is specified, Covered will halt the score command after 
      	all race condition checking has been performed with a message to the user 
      	specifying how many always blocks were found to be in non-compliance to the 
      	race-condition-free coding guidelines.</li>
      </ol></P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      The first mode of operation is the recommended mode of operation as this will 
      allow Covered to continue calculating coverage information for the design while 
      still providing accurate coverage information for the logic that is still under 
      consideration. The second mode of operation is meant to allow the user to use 
      Covered as a race-condition checking tool.</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="header2">4.3&nbsp; <A name="4_3"></A>Reporting Race Conditions</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      Even though race condition information is displayed (assuming the -rS option was 
      not specified in the score command-line) during the scoring process, it may be 
      convenient to view this information in a generated report as well. Because of this 
      need, Covered saves all race condition information to the CDD file for use in 
      using the report command. By specifying 'r' in the -m option to the report command 
      (race condition report output is not turned on by default), the statement blocks 
      which were eliminated from coverage consideration will be output to the coverage 
      report file. Summary coverage will contain the total number of statement blocks 
      eliminated for each module. Verbose coverage will contain each eliminated statement 
      block, organized by module, specifying both the starting line of the eliminated 
      statement block and the reason for why the statement block was removed.</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="header2">4.4&nbsp; <A name="4_3"></A>Skipping Race Condition Checking</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      Though highly discouraged, Covered does have a means to skip the race condition checking
      step altogether for situations where the user does not believe race conditions to exist in
      their design and does not want Covered to automatically throw out those procedural blocks
      for Covered consideration.  The advantages to doing this are:
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
        <OL>
          <LI> Better performance in scoring the design (the race condition checking step is skipped entirely)</LI>
          <LI> For designs which do not contain any real race condition (that Covered is saying "might" exist),
               more logic can be included for coverage. </LI>
        </OL>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      Of course, with these advantages comes a risk.  If code is deemed to not contain any race conditions but
      does indeed contain one or more, the coverage numbers may be flawed, and these types of "errors" are not
      assumed to be Covered bugs.  With all of that said, to ignore race condition checking completely, simply
      add the '-rI' option to the score command-line.
  <TR>
    <TD></TD>
    <TD></TD>
    <TD></TD>
    <TD valign=top>
       <P class="navigatorSmall"><IMG src="img/12568c.gif" height=1 width=460><BR>
       [&nbsp;
       <A href="001.html">Contents</A>&nbsp;&nbsp;|&nbsp;
       <A href="index.html">First Page</A>&nbsp;&nbsp;|&nbsp;
       <A href="010.html">Previous Page</A>&nbsp;&nbsp;|&nbsp;
       <A href="index.html">Home</A>&nbsp;
       &nbsp;|&nbsp;<A href="012.html">Next Page</A>&nbsp;&nbsp;|&nbsp;
       <A href="027.html">Last Page</A>&nbsp;
       ]<BR>
       [&nbsp;<A href="001.html">1</A>&nbsp;|
        &nbsp;<A href="002.html">2</A>&nbsp;|
        &nbsp;<A href="003.html">3</A>&nbsp;|
        &nbsp;<A href="004.html">4</A>&nbsp;|
        &nbsp;<A href="005.html">5</A>&nbsp;|
        &nbsp;<A href="006.html">6</A>&nbsp;|
        &nbsp;<A href="007.html">7</A>&nbsp;|
        &nbsp;<A href="008.html">8</A>&nbsp;|
        &nbsp;<A href="009.html">9</A>&nbsp;|
        &nbsp;<A href="010.html">10</A>&nbsp;|
        &nbsp;<A href="011.html">11</A>&nbsp;|
        &nbsp;<A href="012.html">12</A>&nbsp;|
        &nbsp;<A href="013.html">13</A>&nbsp;|
        &nbsp;<A href="014.html">14</A>&nbsp;|
        &nbsp;<A href="015.html">15</A>&nbsp;|
        &nbsp;<A href="016.html">16</A>&nbsp;|
        &nbsp;<A href="017.html">17</A>&nbsp;|
        &nbsp;<A href="018.html">18</A>&nbsp;|
        &nbsp;<A href="019.html">19</A>&nbsp;|
        &nbsp;<A href="020.html">20</A>&nbsp;|
        &nbsp;<A href="021.html">21</A>&nbsp;|
        &nbsp;<A href="022.html">22</A>&nbsp;|
        &nbsp;<A href="023.html">23</A>&nbsp;|
        &nbsp;<A href="024.html">24</A>&nbsp;|
        &nbsp;<A href="025.html">25</A>&nbsp;|
        &nbsp;<A href="026.html">26</A>&nbsp;|
        &nbsp;<A href="027.html">27</A>&nbsp;]
       <BR>
       <B>License: GPL</B><BR>
       This Manual was created with <A HREF="http://manstyle.sourceforge.net">ManStyle</A>.
       </P>
    </TD>
  </TR>

</TABLE>

<P>
  <BR><BR>
</P>

</BODY>
</HTML>
