<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
  <TITLE>Covered - Inline Attributes</TITLE>
  <META name="GENERATOR" content="ManStyle">
  <meta name="author" content="Trevor Williams">
  <LINK rel=stylesheet type="text/css" href="styles.css">
</HEAD>
<BODY text="#000000"
      link="#12568c" vlink="#023a64" alink="#000000" 
      bgcolor="#ffffff" background="img/tile.jpeg">

<TABLE width=615 border=0 cellpadding=0 cellspacing=0>
  <TR>
    <TD width=30>
      <IMG src="img/space.gif" width=30 height=1 border=0>
    </TD>
    <TD width=105>
      <IMG src="img/space.gif" width=105 height=1 border=0>
    </TD>
    <TD width=20>
      <IMG src="img/space.gif" width=20 height=1 border=0>
    </TD>
    <TD width=650>
      <IMG src="img/space.gif" width=650 height=1 border=0><BR>
      <P class="pageNumber">&nbsp;15&nbsp;</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top></TD>
    <TD></TD>
    <TD align=center>
      <TABLE width=650 border=0 cellpadding=0 cellspacing=0>
        <TR>
          <TD width=650 align=center valign=top class="navigator">
            <P class="navigator"><IMG src="img/000000.gif" height=2 width=650><BR>
            <IMG src="img/toolbar_left.png" border=0><A href="001.html" alt="Contents"><IMG src="img/toolbar_cont.png" border=0></A><A href="index.html" alt="First Page"><IMG src="img/toolbar_first.png" border=0></A><A href="014.html" alt="Previous Page"><IMG src="img/toolbar_prev.png" border=0></A><A href="index.html" alt="Home"><IMG src="img/toolbar_home.png" border=0></A><A href="016.html" alt="Next Page"><IMG src="img/toolbar_next.png" border=0></A><A href="027.html" alt="Last Page"><IMG src="img/toolbar_last.png" border=0></A><IMG src="img/toolbar_right.png" border=0>
            <BR><IMG src="img/000000.gif" height=2 width=650></P>
          </TD>
        </TR>
        <TR>
          <TD align=center valign=top>
            <P class="pageHeader">User Manual - <B>&laquo;Covered&raquo;</B><BR><IMG src="img/000000.gif" height=1 width=650></P>
          </TD>
        </TR>
        <TR>
          <TD align=center valign=top>
            &nbsp;
          </TD>
        </TR>
      </TABLE>
    </TD>
  </TR>


  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="header1">8&nbsp;&nbsp; <A name="8"></A>Inline Attributes<BR><IMG src="img/12568c.gif" height=2 width=650></P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="header2">8.1&nbsp; <A name="8_1"></A>What are inline attributes?</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      In the IEEE Verilog 1364-2001 standard, an attribute is a way to add information 
      to a Verilog object, statement or groups of statements that is tool-specific and 
      does not affect simulation of that design. All Verilog-2001 attributes begin with 
      the token <strong>(*</strong> and end with the token <strong>*)</strong>. An 
      attribute can be multi-line and is "attached" to the Verilog object, statement, 
      or group of statements that is specified immediately beneath the attribute.</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      Covered uses the Verilog-2001 attribute for allowing users to specify 
      coverage-specific information about embedded objects within a particular 
      design. When an attribute is found, it is interrogated to see if it is a 
      Covered attribute. If the attribute is a Covered attribute, its contents are 
      parsed. If the attribute is not found to be a Covered attribute, it is ignored 
      and parsing continues normally.</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      The rest of this page specifies the attributes that Covered is capable of 
      handling, along with their use and syntax.</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="header2">8.2&nbsp; <A name="8_2"></A>Adding FSM attributes</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      There are two ways that Covered currently allows the user to specify the location 
      of and information about FSMs embedded in a particular design. The first way to 
      specify an FSM is on the score command-line. The benefit to specifying the 
      location of a state machine this way is that the source code does not need to be 
      modified. The potential disadvantage to this method is that the FSM location and 
      coverage information can get lost if the FSM is used in a different testbench (or 
      even a different project if the FSM code is reused in a later project). For more 
      information on specifying an FSM on the score command-line, please refer to 
      "Section 8.5 Scoring FSMs".</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      The second way that an FSM can be specified to Covered is through the use of the 
      Verilog-2001 attribute. The advantages to using this method are that the FSM 
      information specified in an attribute stays embedded in the design (for ease of 
      reusing the FSM and still retaining information relevent to coverage). 
      Additionally, at the current release of Covered, using attributes to specify an 
      FSM is the only way to tell Covered what all of the valid states and 
      state-transitions are for a specific FSM (the command-line specification does not 
      allow for this). This provides a unique advantage of this method over the 
      command-line method. The potential disadvantage of this method for specifying FSM 
      information is that source code needs to be modified.</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      To learn how to specify an FSM attribute within a design, let's use an example of 
      an FSM that is embedded in a design.</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin">Example FSM</P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="code"><pre>
      module foo (
        input clk,
        input reset,
        input head,
        input tail,
        input valid
      );
      
      parameter STATE_IDLE = 2'b00,
                STATE_HEAD = 2'b01,
                STATE_DATA = 2'b10,
                STATE_TAIL = 2'b11;
                
      reg [1:0] state;
      reg [1:0] next_state;
      
      always @(posedge clock)
        state <= reset ? STATE_IDLE : next_state;
        
      always @(reset or state or head or valid or tail)
        begin
          case( state )
            STATE_IDLE: next_state = (valid & head) ?
                                       STATE_HEAD : STATE_IDLE;
            STATE_HEAD: next_state = (valid & tail) ?
                                       STATE_TAIL : STATE_DATA;
            STATE_DATA: next_state = (valid & tail) ?
                                       STATE_TAIL : STATE_DATA;
            STATE_TAIL: next_state = (valid & head) ?
                                       STATE_HEAD : STATE_IDLE;
          endcase
        end
        
      endmodule</PRE></P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      This example shows an FSM that has an input FSM variable called "state" and an 
      output FSM variable called "next_state". There are four states in the state 
      machine that are represented with the parameters located in this module 
      (STATE_IDLE, STATE_HEAD, STATE_DATA, STATE_TAIL). There are a total of eight (8) 
      state transitions that this FSM can take. They are the following:</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin">FSM state transitions</P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      <ol> 
        <li> STATE_IDLE -> STATE_IDLE (loopback) </li> 
        <li> STATE_IDLE -> STATE_HEAD </li> 
        <li> STATE_HEAD -> STATE_DATA </li> 
        <li> STATE_HEAD -> STATE_TAIL </li> 
        <li> STATE_DATA -> STATE_DATA (loopback) </li> 
        <li> STATE_DATA -> STATE_TAIL </li> 
        <li> STATE_TAIL -> STATE_HEAD </li> 
        <li> STATE_TAIL -> STATE_IDLE </li> 
      </ol></P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      All attributes that specify information for an FSM are a comma-separated list of 
      values that contain the following information:</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      <ol> 
        <li> "covered_fsm" attribute keyword 
          <ul> 
            <li> MUST be first value in the attribute list </li> 
            <li> Specifies to Covered that this attribute contains information for an 
                 FSM that Covered needs to handle. </li> 
          </ul></li> 
        <li> FSM identifier 
          <ul> 
            <li> MUST be second value in the attribute list </li> 
            <li> Specifies a alphanumeric name for this FSM. </li> 
            <li> The name will eventually be used to tie individual attributes that specify 
                 information for the same FSM. </li> 
        </ul></li> 
        <li> Input state expression (optional) 
          <ul> 
            <li> Syntax: <code>is="</code><i>expression</i><code>"</code> </li> 
            <li> If this is specified, MUST be specified third in the list. </li> 
            <li> Specifies the input state expression. </li> 
            <li> Can be a combination of signal names, signal bit selects, and 
                 concatenation operators. </li> 
            <li> See "Section 8.5. Specifying an FSM" for more information on the 
                 specification of an input state expression. </li> 
          </ul></li> 
        <li> Output state expression 
          <ul> 
            <li> Syntax: <code>os="</code><i>expression</i><code>"</code> </li> 
            <li> If the input state expression is specified, MUST be fourth value in 
                 list; otherwise, MUST be third value in list. </li> 
            <li> Specifies the output state expression of the FSM. </li> 
            <li> Can be a combination of signal names, signal bit selects, and 
                 concatenation operators. </li> 
            <li> See "Section 8.5. Specifying an FSM" for more information on the 
                 specification of an output state expression. </li> 
          </ul></li> 
        <li> State-transition specifiers (optional) 
          <ul> 
            <li> Syntax: <code>trans="</code><i>from_state</i><code>-&gt;</code><i>to_state</i><code>"</code> </li> 
            <li> MUST be specified after the above has been specified in the list. </li> 
            <li> Arguments MUST be constant values (parameters; numerical values -- 
                 binary, octal, decimal, hexidecimal; and defines that equate to one of 
                 these two types of values).</li> 
            <li> Each transition that is specified is a unique value in the attribute 
                 list. </li> 
          </ul></li> 
      </ol> </P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin"></P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="pg">
      To specify the FSM attribute in the above example, including input state, 
      output state and all state transitions, the code would be modified to look like:</P>
    </TD>
  </TR>

  <TR>
    <TD></TD>
    <TD valign=top>
      <P class="margin">Modified Example</P>
    </TD>
    <TD></TD>
    <TD valign=top>
      <P class="code"><PRE>
      ...
      
      (* covered_fsm, channel, is="state", os="next_state",
                               trans="STATE_IDLE-&gt;STATE_IDLE",
                               trans="STATE_IDLE-&gt;STATE_HEAD",
                               trans="STATE_HEAD-&gt;STATE_DATA",
                               trans="STATE_HEAD-&gt;STATE_TAIL",
                               trans="STATE_DATA-&gt;STATE_DATA",
                               trans="STATE_DATA-&gt;STATE_TAIL",
                               trans="STATE_TAIL-&gt;STATE_HEAD",
                               trans="STATE_TAIL-&gt;STATE_IDLE" *)
       always @(reset or state or head or tail or valid)
         ...</PRE></P>
    </TD>
  </TR>


  <TR>
    <TD></TD>
    <TD></TD>
    <TD></TD>
    <TD valign=top>
       <P class="navigatorSmall"><IMG src="img/12568c.gif" height=1 width=650><BR>
       [&nbsp;
       <A href="001.html">Contents</A>&nbsp;&nbsp;|&nbsp;
       <A href="index.html">First Page</A>&nbsp;&nbsp;|&nbsp;
       <A href="014.html">Previous Page</A>&nbsp;&nbsp;|&nbsp;
       <A href="index.html">Home</A>&nbsp;
       &nbsp;|&nbsp;<A href="016.html">Next Page</A>&nbsp;&nbsp;|&nbsp;
       <A href="027.html">Last Page</A>&nbsp;
       ]<BR>
       [&nbsp;<A href="001.html">1</A>&nbsp;|
        &nbsp;<A href="002.html">2</A>&nbsp;|
        &nbsp;<A href="003.html">3</A>&nbsp;|
        &nbsp;<A href="004.html">4</A>&nbsp;|
        &nbsp;<A href="005.html">5</A>&nbsp;|
        &nbsp;<A href="006.html">6</A>&nbsp;|
        &nbsp;<A href="007.html">7</A>&nbsp;|
        &nbsp;<A href="008.html">8</A>&nbsp;|
        &nbsp;<A href="009.html">9</A>&nbsp;|
        &nbsp;<A href="010.html">10</A>&nbsp;|
        &nbsp;<A href="011.html">11</A>&nbsp;|
        &nbsp;<A href="012.html">12</A>&nbsp;|
        &nbsp;<A href="013.html">13</A>&nbsp;|
        &nbsp;<A href="014.html">14</A>&nbsp;|
        &nbsp;<A href="015.html">15</A>&nbsp;|
        &nbsp;<A href="016.html">16</A>&nbsp;|
        &nbsp;<A href="017.html">17</A>&nbsp;|
        &nbsp;<A href="018.html">18</A>&nbsp;|
        &nbsp;<A href="019.html">19</A>&nbsp;|
        &nbsp;<A href="020.html">20</A>&nbsp;|
        &nbsp;<A href="021.html">21</A>&nbsp;|
        &nbsp;<A href="022.html">22</A>&nbsp;|
        &nbsp;<A href="023.html">23</A>&nbsp;|
        &nbsp;<A href="024.html">24</A>&nbsp;|
        &nbsp;<A href="025.html">25</A>&nbsp;|
        &nbsp;<A href="026.html">26</A>&nbsp;|
        &nbsp;<A href="027.html">27</A>&nbsp;]
       <BR>
       <B>License: GPL</B><BR>
       This Manual was created with <A HREF="http://manstyle.sourceforge.net">ManStyle</A>.
       </P>
    </TD>
  </TR>

</TABLE>

<P>
  <BR><BR>
</P>

</BODY>
</HTML>
