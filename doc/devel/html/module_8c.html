<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Covered: module.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.3 -->
<h1>module.c File Reference</h1><code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;assert.h&gt;</code><br>
<code>#include "<a class="el" href="defines_8h-source.html">defines.h</a>"</code><br>
<code>#include "<a class="el" href="module_8h-source.html">module.h</a>"</code><br>
<code>#include "<a class="el" href="util_8h-source.html">util.h</a>"</code><br>
<code>#include "<a class="el" href="expr_8h-source.html">expr.h</a>"</code><br>
<code>#include "<a class="el" href="signal_8h-source.html">signal.h</a>"</code><br>
<code>#include "<a class="el" href="statement_8h-source.html">statement.h</a>"</code><br>
<code>#include "<a class="el" href="param_8h-source.html">param.h</a>"</code><br>
<code>#include "<a class="el" href="link_8h-source.html">link.h</a>"</code><br>
<code>#include "<a class="el" href="iter_8h-source.html">iter.h</a>"</code><br>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="module_8c.html#a1">module_init</a> (<a class="el" href="structmodule__s.html">module</a> *mod)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes all values of module. </em> <a href="#a1"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structmodule__s.html">module</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="module_8c.html#a2">module_create</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates new module from heap and initializes structure. </em> <a href="#a2"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="module_8c.html#a3">module_size_elements</a> (<a class="el" href="structmodule__s.html">module</a> *mod, <a class="el" href="structmod__inst__s.html">mod_inst</a> *inst)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="defines_8h.html#a181">bool</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="module_8c.html#a4">module_db_write</a> (<a class="el" href="structmodule__s.html">module</a> *mod, char *scope, FILE *<a class="el" href="pplexer_8c.html#a113">file</a>, <a class="el" href="structmod__inst__s.html">mod_inst</a> *inst)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Writes contents of provided module to specified output. </em> <a href="#a4"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="defines_8h.html#a181">bool</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="module_8c.html#a5">module_db_read</a> (<a class="el" href="structmodule__s.html">module</a> *mod, char *scope, char **line)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read contents of current line from specified file, creates module and adds to module list. </em> <a href="#a5"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="defines_8h.html#a181">bool</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="module_8c.html#a6">module_db_merge</a> (<a class="el" href="structmodule__s.html">module</a> *base, FILE *<a class="el" href="pplexer_8c.html#a113">file</a>, <a class="el" href="defines_8h.html#a181">bool</a> same)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads and merges two modules into base module. </em> <a href="#a6"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="module_8c.html#a7">module_display_signals</a> (<a class="el" href="structmodule__s.html">module</a> *mod)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Displays signals stored in this module. </em> <a href="#a7"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="module_8c.html#a8">module_display_expressions</a> (<a class="el" href="structmodule__s.html">module</a> *mod)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Displays expressions stored in this module. </em> <a href="#a8"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="module_8c.html#a9">module_clean</a> (<a class="el" href="structmodule__s.html">module</a> *mod)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deallocates module element contents only from heap. </em> <a href="#a9"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="module_8c.html#a10">module_dealloc</a> (<a class="el" href="structmodule__s.html">module</a> *mod)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deallocates module element from heap. </em> <a href="#a10"></a><em><br><br></td></tr>
<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="module_8c.html#a0">user_msg</a> [USER_MSG_LENGTH]</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<dl compact><dt><b>Author:</b></dt><dd>Trevor Williams (<a href="mailto:trevorw@charter.net">trevorw@charter.net</a>) </dd></dl>
<dl compact><dt><b>Date:</b></dt><dd>12/7/2001</dd></dl>
<hr><h2>Function Documentation</h2>
<a name="a9" doxytag="module.c::module_clean"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void module_clean </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structmodule__s.html">module</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>mod</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Deallocates module element contents only from heap. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>mod</em>&nbsp;</td><td>Pointer to module element to clean.</td></tr>
  </table>
</dl>
Deallocates module contents: name and filename strings.     </td>
  </tr>
</table>
<a name="a2" doxytag="module.c::module_create"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structmodule__s.html">module</a>* module_create </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates new module from heap and initializes structure. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Returns pointer to newly created module element that has been properly initialized.</dd></dl>
Allocates memory from the heap for a module element and initializes all contents to NULL. Returns a pointer to the newly created module.     </td>
  </tr>
</table>
<a name="a6" doxytag="module.c::module_db_merge"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="defines_8h.html#a181">bool</a> module_db_merge </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structmodule__s.html">module</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>base</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>FILE *&nbsp;</td>
          <td class="mdname" nowrap> <em>file</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="defines_8h.html#a181">bool</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>same</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads and merges two modules into base module. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>base</em>&nbsp;</td><td>Module that will merge in that data from the in module </td></tr>
    <tr><td valign=top><em>file</em>&nbsp;</td><td>Pointer to CDD file handle to read. </td></tr>
    <tr><td valign=top><em>same</em>&nbsp;</td><td>Specifies if module to be merged should match existing module exactly or not.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns TRUE if parse and merge was successful; otherwise, returns FALSE.</dd></dl>
Parses specified line for module information and performs a merge of the two specified modules, placing the resulting merge module into the module named base. If there are any differences between the two modules, a warning or error will be displayed to the user.     </td>
  </tr>
</table>
<a name="a5" doxytag="module.c::module_db_read"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="defines_8h.html#a181">bool</a> module_db_read </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structmodule__s.html">module</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>mod</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>scope</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>line</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read contents of current line from specified file, creates module and adds to module list. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>mod</em>&nbsp;</td><td>Pointer to module to read contents into. </td></tr>
    <tr><td valign=top><em>scope</em>&nbsp;</td><td>Pointer to name of read module scope. </td></tr>
    <tr><td valign=top><em>line</em>&nbsp;</td><td>Pointer to current line to parse.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns TRUE if read was successful; otherwise, returns FALSE.</dd></dl>
Reads the current line of the specified file and parses it for a module. If all is successful, returns TRUE; otherwise, returns FALSE.     </td>
  </tr>
</table>
<a name="a4" doxytag="module.c::module_db_write"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="defines_8h.html#a181">bool</a> module_db_write </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structmodule__s.html">module</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>mod</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>scope</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>FILE *&nbsp;</td>
          <td class="mdname" nowrap> <em>file</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structmod__inst__s.html">mod_inst</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>inst</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Writes contents of provided module to specified output. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>mod</em>&nbsp;</td><td>Pointer to module to write to output. </td></tr>
    <tr><td valign=top><em>scope</em>&nbsp;</td><td>String version of module scope in hierarchy. </td></tr>
    <tr><td valign=top><em>file</em>&nbsp;</td><td>Pointer to specified output file to write contents. </td></tr>
    <tr><td valign=top><em>inst</em>&nbsp;</td><td>Pointer to the current module instance.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns TRUE if file output was successful; otherwise, returns FALSE.</dd></dl>
Prints the database line for the specified module to the specified database file. If there are any problems with the write, returns FALSE; otherwise, returns TRUE.     </td>
  </tr>
</table>
<a name="a10" doxytag="module.c::module_dealloc"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void module_dealloc </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structmodule__s.html">module</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>mod</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Deallocates module element from heap. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>mod</em>&nbsp;</td><td>Pointer to module element to deallocate.</td></tr>
  </table>
</dl>
Deallocates module; name and filename strings; and finally the structure itself from the heap.     </td>
  </tr>
</table>
<a name="a8" doxytag="module.c::module_display_expressions"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void module_display_expressions </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structmodule__s.html">module</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>mod</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Displays expressions stored in this module. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>mod</em>&nbsp;</td><td>Pointer to module element to display expressions</td></tr>
  </table>
</dl>
Iterates through expression list of specified module, displaying each expression's id.     </td>
  </tr>
</table>
<a name="a7" doxytag="module.c::module_display_signals"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void module_display_signals </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structmodule__s.html">module</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>mod</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Displays signals stored in this module. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>mod</em>&nbsp;</td><td>Pointer to module element to display signals.</td></tr>
  </table>
</dl>
Iterates through signal list of specified module, displaying each signal's name, width, lsb and value.     </td>
  </tr>
</table>
<a name="a1" doxytag="module.c::module_init"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void module_init </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structmodule__s.html">module</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>mod</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initializes all values of module. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>mod</em>&nbsp;</td><td>Pointer to module to initialize.</td></tr>
  </table>
</dl>
Initializes all contents to NULL.     </td>
  </tr>
</table>
<a name="a3" doxytag="module.c::module_size_elements"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void module_size_elements </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structmodule__s.html">module</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>mod</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structmod__inst__s.html">mod_inst</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>inst</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>mod</em>&nbsp;</td><td>Pointer to module containing elements to resize. </td></tr>
    <tr><td valign=top><em>inst</em>&nbsp;</td><td>Pointer to instance containing this module.</td></tr>
  </table>
</dl>
Resizes signals if they are contigent upon parameter values. After all signals have been resized, the signal's corresponding expressions are resized. This function should be called just prior to outputting this module's contents to the CDD file (after parsing phase only)     </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a name="a0" doxytag="module.c::user_msg"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char <a class="el" href="vector_8c.html#a7">user_msg</a>[USER_MSG_LENGTH] </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Holds some output that will be displayed via the print_output command. This is created globally so that memory does not need to be reallocated for each function that wishes to use it.     </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat Aug 9 22:46:42 2003 for Covered by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.3 </small></address>
</body>
</html>
