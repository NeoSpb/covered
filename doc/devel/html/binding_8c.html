<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Covered: binding.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.3 -->
<h1>binding.c File Reference</h1><code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;assert.h&gt;</code><br>
<code>#include "<a class="el" href="defines_8h-source.html">defines.h</a>"</code><br>
<code>#include "<a class="el" href="binding_8h-source.html">binding.h</a>"</code><br>
<code>#include "<a class="el" href="signal_8h-source.html">signal.h</a>"</code><br>
<code>#include "<a class="el" href="expr_8h-source.html">expr.h</a>"</code><br>
<code>#include "<a class="el" href="instance_8h-source.html">instance.h</a>"</code><br>
<code>#include "<a class="el" href="link_8h-source.html">link.h</a>"</code><br>
<code>#include "<a class="el" href="util_8h-source.html">util.h</a>"</code><br>
<code>#include "<a class="el" href="vector_8h-source.html">vector.h</a>"</code><br>
<code>#include "<a class="el" href="param_8h-source.html">param.h</a>"</code><br>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="binding_8c.html#a5">bind_add</a> (char *sig_name, <a class="el" href="structexpression__s.html">expression</a> *exp, <a class="el" href="structmodule__s.html">module</a> *mod)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds signal and expression to binding list. </em> <a href="#a5"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="binding_8c.html#a6">bind_remove</a> (int id)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes the expression with ID of id from binding list. </em> <a href="#a6"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="defines_8h.html#a181">bool</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="binding_8c.html#a7">bind_perform</a> (char *sig_name, <a class="el" href="structexpression__s.html">expression</a> *exp, <a class="el" href="structmodule__s.html">module</a> *mod_sig, <a class="el" href="structmodule__s.html">module</a> *mod_exp, <a class="el" href="defines_8h.html#a181">bool</a> implicit_allowed)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds signal in module and bind the expression to this signal. </em> <a href="#a7"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="binding_8c.html#a8">bind</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Performs signal/expression bind (performed after parse completed). </em> <a href="#a8"></a><em><br><br></td></tr>
<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structmod__inst__s.html">mod_inst</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="binding_8c.html#a0">instance_root</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structmod__link__s.html">mod_link</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="binding_8c.html#a1">mod_head</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="binding_8c.html#a2">user_msg</a> [USER_MSG_LENGTH]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structsig__exp__bind__s.html">sig_exp_bind</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="binding_8c.html#a3">seb_head</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structsig__exp__bind__s.html">sig_exp_bind</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="binding_8c.html#a4">seb_tail</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<dl compact><dt><b>Author:</b></dt><dd>Trevor Williams (<a href="mailto:trevorw@charter.net">trevorw@charter.net</a>) </dd></dl>
<dl compact><dt><b>Date:</b></dt><dd>3/4/2002</dd></dl>
<dl compact><dt><b>Binding</b></dt><dd>When a input, output, inout, reg, wire, etc. is parsed in a module a new signal structure is created and is placed into the current module's signal list. However, the expression list of the newly created signal is initially empty (because we have not encountered any expressions that use the signal yet). Each signal contains a list of expressions that the signal is a part of so that when the signal changes its value during simulation time, it can notify the expressions that it is a part of that they need to be re-evaluated.</dd></dl>
<dl compact><dt><b></b></dt><dd>Additionally, the expression structure contains a pointer to the signal from which it receives its value. However, not all expressions point to signals. Only the expressions which have an operation type of EXP_OP_SIG, EXP_OP_SBIT_SEL, and EXP_OP_MBIT_SEL have pointers to signals. These pointers are used for quick retrieval of the signal name when outputting expressions.</dd></dl>
<dl compact><dt><b></b></dt><dd>Because both signals and expressions point to each other, we say that signals and expressions need to be bound to each other. The process of binding takes place at two different points in the scoring process:</dd></dl>
<dl compact><dt><b></b></dt><dd><ol>
<li>When an expression is parsed and the signal that it needs to point to is a signal that is local to the current module that the expression exists in. If the signal is not local (a hierarchical reference), we cannot bind at this time because the signal may be referring to a signal in a module which has not been parsed yet. Because of this, binding also occurs in the second point of the score command.</li><li>After all parsing has been performed, all signals and expressions which have not been bound at point 1 are now bound.</li></ol>
</dd></dl>
<dl compact><dt><b>Implicit Signal Creation</b></dt><dd>In several Verilog simulators, the automatic creation of one-bit wires is allowed. These signals are considered "automatically created" because they are not declared in either the port list or the wire list for its particular module. Therefore, when the binding process occurs and a signal structure has not been created for a used signal (because the signal was not declared in the port list or wire list), the bind_perform function needs to do one of the following:</dd></dl>
<dl compact><dt><b></b></dt><dd><ol>
<li>If the signal name expresses a signal name that will be local to the current module (i.e., there aren't any periods in the signal name), automatically create a one-bit signal for the missing signal and bind this new signal to the expression that uses the implicit signal.</li><li>If the signal name expresses a signal name that will be remote to the current module (i.e., if there are periods in the signal name), generate an error message to the user about using a bad hierarchical reference.</li></ol>
</dd></dl>
<hr><h2>Function Documentation</h2>
<a name="a8" doxytag="binding.c::bind"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void bind </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Performs signal/expression bind (performed after parse completed). 
<p>
In the process of binding, we go through each element of the binding list, finding the signal to be bound in the specified tree, adding the expression to the signal's expression pointer list, and setting the expression vector pointer to point to the signal vector.     </td>
  </tr>
</table>
<a name="a5" doxytag="binding.c::bind_add"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void bind_add </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>sig_name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structexpression__s.html">expression</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>exp</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structmodule__s.html">module</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>mod</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Adds signal and expression to binding list. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>sig_name</em>&nbsp;</td><td>Signal scope to bind. </td></tr>
    <tr><td valign=top><em>exp</em>&nbsp;</td><td>Expression ID to bind. </td></tr>
    <tr><td valign=top><em>mod</em>&nbsp;</td><td>Pointer to module containing specified expression.</td></tr>
  </table>
</dl>
Adds the specified signal and expression to the bindings linked list. This bindings list will be handled after all input Verilog has been parsed.     </td>
  </tr>
</table>
<a name="a7" doxytag="binding.c::bind_perform"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="defines_8h.html#a181">bool</a> bind_perform </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>sig_name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structexpression__s.html">expression</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>exp</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structmodule__s.html">module</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>mod_sig</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structmodule__s.html">module</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>mod_exp</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="defines_8h.html#a181">bool</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>implicit_allowed</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Finds signal in module and bind the expression to this signal. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>sig_name</em>&nbsp;</td><td>String name of signal to bind to specified expression. </td></tr>
    <tr><td valign=top><em>exp</em>&nbsp;</td><td>Pointer to expression to bind. </td></tr>
    <tr><td valign=top><em>mod_sig</em>&nbsp;</td><td>Pointer to module containing signal. </td></tr>
    <tr><td valign=top><em>mod_exp</em>&nbsp;</td><td>Pointer to module containing expression. </td></tr>
    <tr><td valign=top><em>implicit_allowed</em>&nbsp;</td><td>If set to TRUE, creates any signals that are implicitly defined.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns TRUE if bind occurred successfully; otherwise, returns FALSE.</dd></dl>
Performs a binding of an expression and signal based on the name of the signal. Looks up signal name in the specified module and sets the expression and signal to point to each other. If the signal name is not found, it is checked to see if the signal is an unused type (name preceded by the '!' character). If the signal is unused, the bind does not occur and the function returns a value of FALSE. If the signal neither exists or is an unused signal, it is considered to be an implicit signal and a 1-bit signal is created.     </td>
  </tr>
</table>
<a name="a6" doxytag="binding.c::bind_remove"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void bind_remove </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>id</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Removes the expression with ID of id from binding list. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>id</em>&nbsp;</td><td>Expression ID of binding to remove.</td></tr>
  </table>
</dl>
Removes the binding containing the expression ID of id. This needs to be called before an expression is removed.     </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a name="a0" doxytag="binding.c::instance_root"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structmod__inst__s.html">mod_inst</a>* <a class="el" href="toggle_8c.html#a0">instance_root</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Pointer to root of module instance tree     </td>
  </tr>
</table>
<a name="a1" doxytag="binding.c::mod_head"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structmod__link__s.html">mod_link</a>* <a class="el" href="toggle_8c.html#a1">mod_head</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Pointer to head element of module list     </td>
  </tr>
</table>
<a name="a3" doxytag="binding.c::seb_head"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structsig__exp__bind__s.html">sig_exp_bind</a>* <a class="el" href="binding_8c.html#a3">seb_head</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Pointer to the head of the signal/expression binding list.     </td>
  </tr>
</table>
<a name="a4" doxytag="binding.c::seb_tail"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structsig__exp__bind__s.html">sig_exp_bind</a>* <a class="el" href="binding_8c.html#a4">seb_tail</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Pointer to the tail of the signal/expression binding list.     </td>
  </tr>
</table>
<a name="a2" doxytag="binding.c::user_msg"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char <a class="el" href="vector_8c.html#a7">user_msg</a>[USER_MSG_LENGTH] </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Holds some output that will be displayed via the print_output command. This is created globally so that memory does not need to be reallocated for each function that wishes to use it.     </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat Aug 9 22:46:38 2003 for Covered by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.3 </small></address>
</body>
</html>
