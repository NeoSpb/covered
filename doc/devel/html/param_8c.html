<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>param.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.16 -->
<h1>param.c File Reference</h1><code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;assert.h&gt;</code><br>
<code>#include "<a class="el" href="defines_8h-source.html">defines.h</a>"</code><br>
<code>#include "<a class="el" href="param_8h-source.html">param.h</a>"</code><br>
<code>#include "<a class="el" href="util_8h-source.html">util.h</a>"</code><br>
<code>#include "<a class="el" href="link_8h-source.html">link.h</a>"</code><br>
<code>#include "<a class="el" href="signal_8h-source.html">signal.h</a>"</code><br>
<code>#include "<a class="el" href="expr_8h-source.html">expr.h</a>"</code><br>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="defines_8h.html#a137">parameter</a> *&nbsp;</td><td valign=bottom><a class="el" href="param_8c.html#a2">param_find</a> (char *name, <a class="el" href="defines_8h.html#a137">parameter</a> *parm)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Searches specified parameter list for the specified parameter name.</em> <a href="#a2"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="defines_8h.html#a137">parameter</a> *&nbsp;</td><td valign=bottom><a class="el" href="param_8c.html#a3">param_find_and_remove</a> (char *name, <a class="el" href="defines_8h.html#a137">parameter</a> **head, <a class="el" href="defines_8h.html#a137">parameter</a> **tail)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="param_8c.html#a4">param_add_to_list</a> (<a class="el" href="defines_8h.html#a137">parameter</a> *parm, <a class="el" href="defines_8h.html#a137">parameter</a> **head, <a class="el" href="defines_8h.html#a137">parameter</a> **tail)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="param_8c.html#a5">param_add</a> (char *name, <a class="el" href="defines_8h.html#a129">expression</a> *expr, <a class="el" href="defines_8h.html#a138">module</a> *mod)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Adds parameter to specified module's parameter list.</em> <a href="#a5"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="param_8c.html#a6">param_add_defparam</a> (char *scope, <a class="el" href="defines_8h.html#a127">vector</a> *value)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Adds parameter override to defparam list.</em> <a href="#a6"></a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="defines_8h.html#a137">parameter</a> *&nbsp;</td><td valign=bottom><a class="el" href="param_8c.html#a0">defparam_head</a> = NULL</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="defines_8h.html#a137">parameter</a> *&nbsp;</td><td valign=bottom><a class="el" href="param_8c.html#a1">defparam_tail</a> = NULL</td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>

<p>
<dl compact><dt><b>
Author: </b><dd>
Trevor Williams (<a href="mailto:trevorw@charter.net">trevorw@charter.net</a>) </dl><dl compact><dt><b>
Date: </b><dd>
8/22/2002</dl>The following is a list of the goals that I would ideally like for parameters:
<p>
<ol>
<li>All parameter information is encapsulated in a module structure (nothing in the instance structures).</ol>
<ol>
<li>Parameter support should have a minimal impact on parsing performance.</ol>
<ol>
<li>All parameter information should be handled by the time that the parsed information is initially output to the CDD file.</ol>
<ol>
<li>The defparam statement will be ignored for all found statements and a warning generated to standard error for all found defparams.</ol>
<ol>
<li>Parameter overloading will be allowed at the instance declaration for instances that are deemed to be parsed.</ol>
<ol>
<li>A Verilog module need only be parsed once.</ol>
<ol>
<li>No module copying is to occur.</ol>
<ol>
<li>Parameter structure is to be as condensed as possible. A parameter structure should contain at least the following information:<ul>
<li>Name of parameter in module OR relative hierarchical name of parameter in submodule.<li>Pointer to vector containing value of parameter or parameter override (might require expression tree instead of vector -- root of expression tree eventually contains vector value of parameter).</ul>
</ol>
<ol>
<li>Any code allowed for assigning parameters is allowed (with the noted exception of the defparam statement).</ol>
So how do all of these goals get met?
<p>
<ol>
<li>All parameter information can be stored in the module structure by storing parameter assignments and parameter overloads (for submodules) in current module.</ol>
<ol>
<li>Both signals and expressions will need to change the way that they write themselves to the CDD file. If a signal's width/lsb is determined with parameters, the signal and associated expressions will need to have width's and/or lsb's reset to new values. If an expression's value is determined with parameters, the expression will need to have width's reset to new values.</ol>
<ol>
<li>If all Verilog information can be contained in the module structure only, it will not be necessary to reparse a module or to copy an existing module.</ol>
<ol>
<li>It is important to note that parameters can have chain reactions in submodule evaluations due to instance parameter overriding of parameters that are used to override other submodule instance parameters. Therefore, all parameters will need to be evaluated in a top-down manner (root module will need to be evaluated first followed by its children, etc.)</ol>
<ol>
<li>All defparam values supplied by the user must be static values (no expressions allowed).</ol>
<ol>
<li>Defparam overrides should be applied before default values to eliminate unnecessary default parameter expression evaluation.</ol>
<ol>
<li>Expression trees need to be stored in module parameter lists for parameter expressions.</ol>
<hr><h2>Function Documentation</h2>
<a name="a5" doxytag="param.c::param_add"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void param_add </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="defines_8h.html#a129">expression</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>expr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="defines_8h.html#a138">module</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>mod</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Adds parameter to specified module's parameter list.
<p>
<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>name</em>&nbsp;</td><td>
Full hierarchical name of parameter value. </td></tr>
<tr><td valign=top><em>expr</em>&nbsp;</td><td>
Expression to calculate parameter value. </td></tr>
<tr><td valign=top><em>mod</em>&nbsp;</td><td>
Pointer to module to store default parameter value.</td></tr>
</table>
</dl>Creates a new parameter with the specified information and adds it to the  instance parameter list. This function is only called when a parameter is found in a particular module.
<p>
Note: Necessary     </td>
  </tr>
</table>
<a name="a6" doxytag="param.c::param_add_defparam"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void param_add_defparam </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>scope</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="defines_8h.html#a127">vector</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>value</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Adds parameter override to defparam list.
<p>
<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>scope</em>&nbsp;</td><td>
Full hierarchical reference to specified scope to change value to. </td></tr>
<tr><td valign=top><em>value</em>&nbsp;</td><td>
User-specified parameter override value.</td></tr>
</table>
</dl>Scans list of all parameters to make sure that specified parameter isn't already being set to a new value. If no match occurs, creates a new parameter link and places at the tail of the parameter list. If match is found, display error message to user and exit covered immediately. This function is called for each -P option to the score command.
<p>
Note: Necessary -- used by <a class="el" href="score_8c.html">score.c</a>     </td>
  </tr>
</table>
<a name="a4" doxytag="param.c::param_add_to_list"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void param_add_to_list </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="defines_8h.html#a137">parameter</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>parm</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="defines_8h.html#a137">parameter</a> **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>head</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="defines_8h.html#a137">parameter</a> **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tail</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>parm</em>&nbsp;</td><td>
Pointer to parameter to add to specified list. </td></tr>
<tr><td valign=top><em>head</em>&nbsp;</td><td>
Pointer to head parameter in list. </td></tr>
<tr><td valign=top><em>tail</em>&nbsp;</td><td>
Pointer to tail parameter in list.</td></tr>
</table>
</dl>Adds specified parameter to the tail of the specified parameter list.
<p>
Note: Necessary     </td>
  </tr>
</table>
<a name="a2" doxytag="param.c::param_find"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="defines_8h.html#a137">parameter</a>* param_find </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="defines_8h.html#a137">parameter</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>parm</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Searches specified parameter list for the specified parameter name.
<p>
<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>name</em>&nbsp;</td><td>
Name of parameter value to find. </td></tr>
<tr><td valign=top><em>parm</em>&nbsp;</td><td>
Pointer to head of parameter list to search.</td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
Returns pointer to found parameter or NULL if parameter is not found.</dl>Searches specified parameter list for a parameter that matches the name of the specified parameter. If a match is found, a pointer to the found parameter is returned to the calling function; otherwise, a value of NULL is returned if no match was found.
<p>
Note: Necessary     </td>
  </tr>
</table>
<a name="a3" doxytag="param.c::param_find_and_remove"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="defines_8h.html#a137">parameter</a>* param_find_and_remove </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="defines_8h.html#a137">parameter</a> **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>head</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="defines_8h.html#a137">parameter</a> **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tail</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>name</em>&nbsp;</td><td>
Name of parameter to search for in current list. </td></tr>
<tr><td valign=top><em>head</em>&nbsp;</td><td>
Pointer to head of parameter list to search. </td></tr>
<tr><td valign=top><em>tail</em>&nbsp;</td><td>
Pointer to tail of parameter list to search.</td></tr>
</table>
</dl><dl compact><dt><b>
Returns: </b><dd>
Returns pointer to found parameter or NULL if parameter was not found.</dl>Iterates through specified parameter list searching for parameter whose name matches the specified string. If a match is found, it is removed from the specified list and returned to the calling function. If no match is found, nothing is removed from the  list and we return NULL to the calling function.     </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a name="a0" doxytag="param.c::defparam_head"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="defines_8h.html#a137">parameter</a>* defparam_head = NULL
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Pointer to head of parameter list for global defparams     </td>
  </tr>
</table>
<a name="a1" doxytag="param.c::defparam_tail"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="defines_8h.html#a137">parameter</a>* defparam_tail = NULL
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Pointer to tail of parameter list for global defparams     </td>
  </tr>
</table>
<hr><address align="right"><small>Generated on Fri Sep 13 00:09:05 2002 for Covered by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.16 </small></address>
</body>
</html>
